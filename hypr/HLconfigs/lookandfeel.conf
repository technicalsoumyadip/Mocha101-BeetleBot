# Refer to https://wiki.hypr.land/Configuring/Variables/

# Color Source 
source = ~/.config/hypr/HLconfigs/theme-colors.conf


# https://wiki.hypr.land/Configuring/Variables/#general
general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2

    # All Active Borders: Mauve (#cba6f7)
    col.active_border = $active_border
    
    # Inactive Borders: Lavender (#b4befe)
    col.inactive_border = $inactive_border

    resize_on_border = true
    allow_tearing = false
    layout = master
}

# Unified Master Layout (Ensure no other master blocks exist below this!)
master {
    new_status = slave
    new_on_top = false
    mfact = 0.60
    orientation = left
}

# ... rest of your decoration/animations blocks ...


# https://wiki.hypr.land/Configuring/Variables/#decoration
    decoration {
    rounding = 10
    rounding_power = 3
   
    # Change transparency of focused and unfocused windows
    active_opacity = 0.95
    inactive_opacity = 0.95

    # https://wiki.hypr.land/Configuring/Variables/#blur
    blur {
        enabled = yes
        size = 5
        passes = 2
        new_optimizations = on
        vibrancy = 1
    }


    shadow {
        enabled= true
        ignore_window = true
        range = 4
        offset = 2 2
        render_power = 40
        color = 0x66000000
    }


}


################################################################################
# STYLIZED & SOLID ROUNDED GROUP BAR
################################################################################
group {
    # Match group borders to the new general theme
    col.border_active = $active_border
    col.border_inactive = $inactive_border

    groupbar {
        font_family = iMWritingMono Nerd Font Propo
        font_size = 13
        
        # Geometry for rounded appearance
        height = 24           
        render_titles = true  
        scrolling = true      

        # Background visibility: Set to false to ensure solid colors
        gradients = true    
        
        # Active Tab: Mauve (#cba6f7)
        col.active = $group_active
        
        # Inactive Tab: Bright Lavender (#b4befe)
        col.inactive = $group_inactive 
        
        # Text color: Dark Base (#1e1e2e) for contrast on bright tabs
        text_color = rgba(1e1e2eff)
    }
}


# https://wiki.hypr.land/Configuring/Variables/#animations
animations {
    enabled = yes

    # --- BEZIER CURVE DEFINITIONS ---
    # Standard Curves
    bezier = easeOutQuint,   0.23, 1,    0.32, 1
    bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    bezier = quick,          0.15, 0,    0.1,  1

    # High-Performance "Elite" Curves
    bezier = overshot, 0.05, 0.9, 0.1, 1.1
    bezier = smoothOut, 0.36, 0, 0.66, -0.56
    bezier = smoothIn, 0.25, 1, 0.5, 1
    bezier = snappy, 0.1, 1, 0, 1

    # --- ANIMATION SETTINGS ---
    animation = layers, 1, 4, overshot, slide
    # Windows: Use overshot for a subtle elastic bounce on entry
    animation = windows,       1, 5, overshot, slide
    animation = windowsIn,     1, 4, overshot, slide
    animation = windowsOut,    1, 3, smoothOut, slide
    animation = windowsMove,   1, 4, snappy

    # Fade Effects
    animation = fadeIn,        1, 3, smoothIn
    animation = fadeOut,       1, 3, smoothIn
    animation = fade,          1, 3, snappy

    # Layers: Make Waybar and SwayNC slide in smoothly
    animation = layers,        1, 4, overshot, slide
    animation = layersIn,      1, 4, overshot, slide
    animation = layersOut,     1, 3, smoothOut, slide

    # Workspaces: The primary "Value for Life" visual change
    # Replaced 'almostLinear' with 'overshot' for the bouncy transition
    animation = workspaces,    1, 5, overshot, slide
    animation = workspacesIn,  1, 5, overshot, slide
    animation = workspacesOut, 1, 5, overshot, slide

    # Special Workspace (Scratchpad)
    animation = specialWorkspace, 1, 4, overshot, slidevert
    
    # Utility
    animation = zoomFactor,    1, 5, snappy
}

# "Smart gaps" / "No gaps when only one window is present"
workspace = w[tv1], gapsout:30, gapsin:0
workspace = f[1], gapsout:40, gapsin:0
windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
windowrulev2 = rounding 0, floating:0, onworkspace:f[1]

# See https://wiki.hypr.land/Configuring/Dwindle-Layout/ for more
dwindle {
    pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = true # You probably want this
}

# https://wiki.hypr.land/Configuring/Variables/#misc
misc {
    force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = true # If true disables the random hyprland logo / anime girl background. :(
}